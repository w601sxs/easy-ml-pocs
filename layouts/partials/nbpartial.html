{{ "<!-- nbpartial -->" | safeHTML }}
<style>
*{padding:0;margin:0;}

.float{
	position:fixed;
	width:60px;
	height:60px;
	bottom:40px;
	right:40px;
	background-color:#FF9900;
	color:#ffffff;
	border-radius:50px;
	text-align:center;
	box-shadow: 2px 2px 3px #999;
	z-index:10002;
}

.my-float{
	margin-top:22px;
}

/* LARGE SCREEN */
.hover_bkgr_fricc{
    background:rgba(0,0,0,0);
    cursor:pointer;
    display:none;
    height:80%;
    position:fixed;
    right:10%;
    vertical-align: middle;
    top:10%;
    z-index:10000;
}

.hover_bkgr_fricc > div {
    background-color: #ffffff;
    box-shadow: 5px 5px 30px #555;
    display: inline-block;
    height:100%;
    min-width: 110%;
    vertical-align: middle;
    position: relative;
    border-radius: 20px;
    padding: 2% 2%;
}

.trigger_popup_fricc {
    cursor: pointer;
    font-size: 20px;
    margin: 20px;
    display: inline-block;
    font-weight: bold;
}

#x {
    position: absolute;
    background: grey;
    color: white;
    border:black;
    top: 5px;
    right: -20px;
    z-index: 10003;
    border-radius: 50%;
    width:30px;
    height:30px;
}

.second-row { flex-grow: 1; border: none; margin: 0; padding: 0; }
.frame {
  flex: 1 0 auto;
  border: 0;
  display:block;
  width:100%;
  height:100%;
}
.wrap {
  display: flex;
  flex-direction: row;
  min-height: 0;
  overflow:hidden;
}


/* Popup box BEGIN */

</style>


<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.matchHeight/0.7.2/jquery.matchHeight-min.js" integrity="sha256-+oeQRyZyY2StGafEsvKyDuEGNzJWAbWqiO2L/ctxF6c=" crossorigin="anonymous"></script>

<!-- Code begins here -->

<script>

$(window).on('load', function(){ 
    $(".trigger_popup_fricc").click(function(){
       $('.hover_bkgr_fricc').show();
    });
    $('.hover_bkgr_fricc').click(function(){
        $('.hover_bkgr_fricc').hide();
    });
    $('.popupCloseButton').click(function(){
        $('.hover_bkgr_fricc').hide();
    });
});

function clickme(){
    
    if (sessionStorage.getItem("notebookJson") != null) 
    {
      var obj = sessionStorage.getItem("notebookJson");
      var data = "text/json;charset=utf-8," + encodeURIComponent(obj);
      var today = new Date();
      var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
      var time = today.getHours() + "-" + today.getMinutes() + "-" + today.getSeconds();
      var CurrentDateTime = date+time;
      console.log('time is ' + CurrentDateTime)
      $('<a id = "downloadme" href="data:' + data + '" download="easymlpoc-notebook-'+CurrentDateTime +'.ipynb"></a>').appendTo('#container');
      document.getElementById("downloadme").click();
    };
    console.log('downloaded!');
}



</script>

<div id="container">
<a class="float trigger_popup_fricc" id="link2" onclick="clickme()"><i class="fa fa-download my-float"></i></a>
</div>

{{ "<!-- nbpartial -->" | safeHTML }}

